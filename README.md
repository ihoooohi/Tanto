# Vim-OneShot-AHK 🚀

**Vim-OneShot-AHK** 是一款专为追求极致效率的开发者设计的全局导航工具。基于 AutoHotkey v2.0 构建，它将 Vim 的操作逻辑引入 Windows 全局环境，并提出了 **“一击脱离”（One-shot）** 的编辑哲学。

> **核心哲学：** 模式切换不应成为负担。进入模式是为了完成特定的原子任务（选中、复制、删除），任务一旦触发，脚本立即自动回归编辑模式。

---

## ✨ 核心特性

* **⚡ 进场即选中 (Default Visual Mode)**：单击 `CapsLock` 立即进入 Visual 模式，配合 `IJKL` 实现瞬时代码抓取。
* **🎯 一击脱离 (One-shot Action)**：所有的操作（复制 `y`、剪切 `x`、删除 `d`、粘贴 `p`）执行后，脚本会自动释放逻辑状态并回归 Insert 模式。
* **🔀 多态操作符 (Polymorphic Operators)**：
    * **有选区时**：`d` 和 `c` 立即作用于当前高亮块。
    * **无选区时**：进入 Operator 等待状态，支持 `dh` (删行), `ch` (复行), `dw` (删词) 等连招。
* **🧹 智能选区清理**：
    * 复制后：自动取消高亮，光标保持在原位。
    * 删除后：光标停留在空隙处，不产生冗余位移。
* **🛠️ 组合键微调**：在任何模式下按住 `CapsLock + IJKL` 均可作为原生方向键使用。

---

## ⌨️ 快捷键指南

### 1. 基础位移 (导航/选中模式)
| 按键 | 功能 | 说明 |
| :--- | :--- | :--- |
| `i / k / j / l` | 上 / 下 / 左 / 右 | 默认带选中效果 (Shift) |
| `u / o` | Home / End | 快速跳转行首/行尾 |
| `h` | **选中整行** | 快速高亮当前整行 |

### 2. 操作符连招 (Operator Pending)
当进入模式后未产生位移时，可触发以下连招：

| 指令 | 动作描述 |
| :--- | :--- |
| `dh` | **Delete House**: 删除当前整行并闭合空隙 |
| `dw` | **Delete Word**: 删除光标后的单词 |
| `db` | **Delete Backward**: 删除光标前的单词 |
| `ch` | **Copy House**: 复制当前整行并退出模式 |
| `cw` | **Copy Word**: 复制光标后的单词并退出 |
| `cb` | **Copy Backward**: 复制光标前的单词并退出 |

### 3. 全域快捷键
* `Ctrl + I / K`：纵向跨 5 行跳跃。
* `Ctrl + J / L`：横向跨单词跳跃。
* `Ctrl + Enter`：在下方新起一行并回归编辑模式。

---

## 🚀 安装说明

1.  确保系统已安装 [AutoHotkey v2.0+](https://www.autohotkey.com/)。
2.  克隆本仓库并运行 `main.ahk`。
3.  **建议：** 在 IDE（如 VS Code, CLion, Visual Studio）中使用时，请以 **管理员权限** 运行脚本，以确保按键拦截的最高优先级。



---

## 🤝 贡献与反馈

如果你有更好的原子操作建议（例如 `ci"` 或 `ca{` 的模拟实现），欢迎提交 Issue 或 PR。

---

## 📄 许可证

[MIT License](LICENSE)